<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–æ–π –ü—Ä–æ—Ñ–∏–ª—å</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #f2f2f7; margin: 0; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        h1 { margin-top: 0; color: #1d1d1f; }
        
        .info-row { display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 1px solid #e5e5ea; }
        .info-label { color: #86868b; }
        .info-value { font-weight: 600; color: #1d1d1f; }
        
        .btn { display: block; width: 100%; padding: 15px; margin-top: 15px; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; cursor: pointer; text-align: center; text-decoration: none; box-sizing: border-box; }
        .btn-logout { background: #e5e5ea; color: #1d1d1f; }
        .btn-home { background: #0071e3; color: white; }
        
        /* –ö–ù–û–ü–ö–ê –ê–î–ú–ò–ù–ê (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç–∞) */
        #adminBtn { display: none; background: #ff3b30; color: white; }
    </style>
</head>
<body>

    <div class="container">
        <h1>üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
        
        <div class="info-row">
            <span class="info-label">–í–∞—à ID:</span>
            <span class="info-value" id="userId">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
        </div>
        
        <div class="info-row">
            <span class="info-label">–°—Ç–∞—Ç—É—Å:</span>
            <span class="info-value" id="userStatus">–ü–æ–∫—É–ø–∞—Ç–µ–ª—å</span>
        </div>

        <a href="/admin.html" id="adminBtn" class="btn">üëë –û–¢–ö–†–´–¢–¨ –ê–î–ú–ò–ù–ö–£</a>
        
        <a href="/" class="btn btn-home">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞–≥–∞–∑–∏–Ω</a>
        <button class="btn btn-logout" onclick="logout()">–í—ã–π—Ç–∏</button>
    </div>

<script>
    // 1. –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞
    const userId = localStorage.getItem('userId');
    const isAdmin = localStorage.getItem('isAdmin');

    // 2. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–æ—à–µ–ª ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≤—Ö–æ–¥
    if (!userId) {
        window.location.href = '/login.html';
    }

    // 3. –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    document.getElementById('userId').innerText = userId.slice(0, 10) + "...";

    // 4. –ì–õ–ê–í–ù–û–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞
    // MongoDB —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç true –∫–∞–∫ —Å—Ç—Ä–æ–∫—É "true"
    if (isAdmin === 'true') {
        document.getElementById('userStatus').innerText = "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä üëÆ‚Äç‚ôÇÔ∏è";
        document.getElementById('userStatus').style.color = "#ff3b30";
        document.getElementById('adminBtn').style.display = "block"; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É!
    }

    function logout() {
        localStorage.clear();
        window.location.href = '/login.html';
    }
</script>

</body>
</html>